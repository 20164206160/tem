<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="css/index.css">
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" media="all" href="css/fileinput.min.css"/>
    <link rel="stylesheet" type="text/css" href="css/top.css"/>
    <link rel="stylesheet" href="css/footer.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" media="all" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet"  type="text/css" href="css/Test.css">
    <script type="text/javascript" src="jquery/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="js/fileinput.min.js"></script>
    <script type="text/javascript" src="js/theme.js"></script>
    <script type="text/javascript" src="js/popper.min.js"></script>
    <script type="text/javascript" src="js/locales/zh.js"></script>
    <script type="text/javascript" src="bootstrap/bootstrap.min.js"></script>
</head>
<body>
    <div id="main">
        <!--导航栏-->
        <div id="nav">
            <div id="nav-container">
                <!--logo-->
                <div id="logo">
                    <a href="" target="_blank"><img src="img/logo.jpg" alt="logo" ></a>
                </div>
                <div id="nav-chooser">
                    <div id="nav-header">
                        <ul>
                            <li>
                                <a href="index.html" target="_self">首页</a>
                            </li>
                            <li>
                                <a href="index.html" target="_self">介绍</a>
                            </li>
                            <li>
                                <a href="Test.html" target="_self">在线预览</a>
                            </li>
                        </ul>
                    </div>
                    <div id="nav-login">
                        <a href="login.html" target="_self">登录</a>
                    </div>
                    <div id="nav-register">
                        <a href="" target="_self">注册</a>
                    </div>
                </div>
            </div>
        </div>
        <div id="container">
            <div id="start">
                <div class="htmleaf-container">
                    <div class="container kv-main">
                        <div class="row">
                            <div class="col-lg-11" style="margin: 0px auto;">
                                <form id="form" enctype="multipart/form-data">
                                    <div class="form-group">
                                        <input id="files" name="files" class="file-loading"  type="file" multiple data-show-caption="true"/>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="result">
                <div class="col-lg-11" style="margin: 0px auto;">
                    <div class="file-input theme-fa">
                        <div class="file-preview">
                            <button class="close closeself" type="button" aria-label="Close">
                                <span aria-hidden="true">×</span>
                            </button>
                            <div class=" file-drop-zone">
                                <div class="file-drop-zone-title">
                                    图片识别结果
                                    <br>
                                    支持 导出 execl
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="clear"></div>
        </div>
        <!--界面置顶-->
        <div id="top">
            <img src="img/top_black.png" alt="置顶"/>
        </div>
        <!--尾页-->
        <div id="footer">
            © 版权
            <a href="#">SmallBang文字提取</a>
            by
            <a href="#">SmallBang小队</a>
        </div>
    </div>
</body>
<script type="text/javascript">
    $('#files').fileinput({
        theme: 'fa',
        language: 'zh',
        uploadUrl: 'multipart/form-data',
        allowedFileExtensions: ['jpg','jpeg', 'png','gif', 'bmp']
    });
    $(function () {
        var img = ['jpg','jpeg', 'png','gif', 'bmp']; //图片
        var txt = ['txt','sql','log'];  //文字
        var out = ['cfg','dat','hlp','tmp'];  //文字
        var ott = ['xlsx','xls','pdf','docx','doc','pptx',];    //表格，幻灯片，WORD，PDF
        var sin = ['mpg', 'mpeg', 'avi', 'rm', 'rmvb','mov', 'wmv','asf', 'dat', 'mp4']; //视频
        var ein = ['cd','ogg','mp3','asf','wma','wav','mp3pro','rm','real','ape','module','midi','vqf']; //音频
        var spe = ['jar','war','zip','rar','tag.gz'];//压缩包
        var exe = ['exe','bat','com','msi']; //可执行文件
        var zat = ['chm','ink'];    //特殊文件
        var viw = ['ftl','htm','html','jsp']; //页面
        var rol = ['js','css'];

        initFileInput('#files','fileupload/filesupload', img.concat(txt).concat(ott).concat(spe).concat(zat).concat(viw), {} );
    });

    function initFileInput(formGropId, url, fileCan, extraData) {
        $(formGropId).fileinput({
            theme: "explorer", //主题
            language: 'zh', //设置语言
            uploadUrl: url,
            uploadAsync: true,
            // uploadExtraData: extraData,
            allowedFileExtensions: fileCan,//接收的文件后缀
            maxFileSize: 1024 * 20,     //1024*20Kb = 20Mb
            minFileCount: 1,
            enctype: 'multipart/form-data',
            showCaption: true,//是否显示标题
            showUpload: true, //是否显示上传按钮
            textEncoding:'utf-8',
            browseClass: "btn btn-primary", //按钮样式
            overwriteInitial: true,
            previewFileIcon: "<i class='glyphicon glyphicon-king'></i>",
            //previewFileIcon: '<i class="fa fa-file"></i>',
            //initialPreviewAsData: true, // defaults markup
            //preferIconicPreview: false, // 是否优先显示图标  false 即优先显示图片
            //showPreview: true,
            /*不同文件图标配置*/

            allowedPreviewTypes: false, //不预览
            previewSettings: {
                image: {width: "100px", height: "120px"},
            },
            layoutTemplates: {
                //actionUpload: '',   //取消上传按钮
                // actionZoom: ''      //取消放大镜按钮
            }

        });
        $(formGropId).on('filepreupload', function(event, data, previewId, index){//上传中
            console.info(data);
        });
        $(formGropId).on("fileuploaded", function (event, data, previewId, index) {    //一个文件上传成功
            console.log('文件上传成功！' + data);
        });
        $(formGropId).on('fileerror', function(event, data, msg) {  //一个文件上传失败
            console.log('文件上传失败！' + msg);
        });
        $("#top").mouseover(function(){
            $('#top img').attr('src','img/top.png');
        });
        $("#top").mouseout(function(){
            $('#top img').attr('src','img/top_black.png');
        });
        $('#top').click(function(){
            $("html,body").animate({scrollTop:0}, 300);
        });
    }
</script>
</html>